const index = "import { Component, For } from 'solid-js';\nimport { useFormHandler } from 'solid-form-handler';\nimport { yupSchema } from 'solid-form-handler/yup';\nimport { referralsSchema } from './schema';\nimport { Referrals } from './types';\nimport { TextInput } from '@components';\n\nexport const ReferralsForm: Component = () => {\n  const formHandler = useFormHandler<Referrals>(yupSchema(referralsSchema));\n  const { formData } = formHandler;\n  const limit = 3;\n\n  const submit = async (event: Event) => {\n    event.preventDefault();\n    try {\n      await formHandler.validateForm();\n      alert('Data sent with success: ' + JSON.stringify(formData()));\n      formHandler.resetForm();\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const fill = () => {\n    formHandler.fillForm({\n      hostName: 'John',\n      hostEmail: 'john@mail.com',\n      referrals: [{ name: 'Mike', email: 'mike@mail.com' }],\n    });\n  };\n\n  const reset = () => {\n    formHandler.resetForm();\n  };\n\n  return (\n    <form class=\"container\" onSubmit={submit}>\n      <h4 class=\"mb-3\">Using yup schema</h4>\n      <div class=\"row gy-3\">\n        <div class=\"col-sm-12 col-md-6\">\n          <TextInput\n            label=\"Host Name\"\n            name=\"hostName\"\n            formHandler={formHandler}\n          />\n        </div>\n        <div class=\"col-sm-12 col-md-6\">\n          <TextInput\n            label=\"Host Email\"\n            name=\"hostEmail\"\n            formHandler={formHandler}\n          />\n        </div>\n        <div class=\"col-12\">\n          <h3>\n            Referrals {formData().referrals.length} of {limit}\n          </h3>\n          <For each={formData().referrals}>\n            {(_, i) => (\n              <fieldset class=\"border m-3\">\n                {formData().referrals.length > 1 && (\n                  <div class=\"bg-primary p-2 text-white d-flex justify-content-end\">\n                    {i() < formData().referrals.length - 1 && (\n                      <i\n                        style=\"cursor: pointer\"\n                        class=\"fa fa-chevron-down\"\n                        aria-hidden=\"true\"\n                        onClick={() =>\n                          formHandler.moveFieldset(i(), i() + 1, 'referrals')\n                        }\n                      ></i>\n                    )}\n                    {i() > 0 && (\n                      <i\n                        style=\"cursor: pointer\"\n                        class=\"fa fa-chevron-up\"\n                        aria-hidden=\"true\"\n                        onClick={() =>\n                          formHandler.moveFieldset(i(), i() - 1, 'referrals')\n                        }\n                      ></i>\n                    )}\n                  </div>\n                )}\n                <div class=\"p-2\">\n                  <div class=\"mb-3\">\n                    <TextInput\n                      label=\"Name\"\n                      name={`referrals.${i()}.name`}\n                      formHandler={formHandler}\n                    />\n                  </div>\n                  <div class=\"mb-3\">\n                    <TextInput\n                      label=\"Email\"\n                      name={`referrals.${i()}.email`}\n                      formHandler={formHandler}\n                    />\n                  </div>\n                  {formData().referrals.length > 1 && (\n                    <button\n                      class=\"btn btn-danger\"\n                      type=\"button\"\n                      onClick={() =>\n                        formHandler.removeFieldset(i(), 'referrals')\n                      }\n                    >\n                      Remove\n                    </button>\n                  )}\n                </div>\n              </fieldset>\n            )}\n          </For>\n          <div class=\"w-100 mb-3\">\n            {formData().referrals.length < limit && (\n              <button\n                class=\"btn btn-info me-2 text-white\"\n                type=\"button\"\n                onClick={() =>\n                  formHandler.addFieldset({ basePath: 'referrals' })\n                }\n              >\n                Add product\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n      <div class=\"mb-3 w-100\">\n        <button class=\"btn btn-primary me-2 mt-2\">Submit</button>\n        <button\n          class=\"btn btn-primary me-2 mt-2\"\n          disabled={formHandler.isFormInvalid()}\n        >\n          Submit\n        </button>\n        <button class=\"btn btn-primary me-2 mt-2\" onClick={fill} type=\"button\">\n          Fill\n        </button>\n        <button class=\"btn btn-primary me-2 mt-2\" onClick={reset} type=\"button\">\n          Reset\n        </button>\n      </div>\n      <p class=\"mt-5\">\n        <b>Form data:</b>\n      </p>\n      <pre class=\"mt-3 border bg-light p-3\">\n        <code>{JSON.stringify(formData(), null, 2)}</code>\n      </pre>\n    </form>\n  );\n};\n";

export { index as default };
