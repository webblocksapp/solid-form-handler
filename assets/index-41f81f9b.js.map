{"version":3,"file":"index-41f81f9b.js","sources":["../../src/implementations/FileInputCompForm/yup/index.tsx?raw"],"sourcesContent":["export default \"import { Component } from 'solid-js';\\nimport { FileInput } from '@components';\\nimport { useFormHandler } from 'solid-form-handler';\\nimport { yupSchema } from 'solid-form-handler/yup';\\nimport * as yup from 'yup';\\n\\nconst isRequired = (value?: File) => (value ? true : false);\\nconst fileSize = (value?: File) => {\\n  const size = value?.size || 0;\\n  return size <= 200000 ? true : false;\\n};\\n\\ntype Schema = {\\n  document: File;\\n  documents: File[];\\n};\\n\\nconst schema: yup.Schema<Schema> = yup.object().shape({\\n  document: yup\\n    .mixed<File>()\\n    .test({\\n      name: 'fileSize',\\n      message: 'File exceeds 200kb',\\n      test: fileSize,\\n    })\\n    .test({ name: 'isRequired', message: 'File is required', test: isRequired })\\n    .required(),\\n  documents: yup\\n    .array(\\n      yup\\n        .mixed<File>()\\n        .test({\\n          name: 'fileSizes',\\n          message: 'One File exceeds 200kb',\\n          test: fileSize,\\n        })\\n        .required()\\n    )\\n    .required()\\n    .min(2),\\n});\\n\\nexport const Form: Component = () => {\\n  const formHandler = useFormHandler<Schema>(yupSchema(schema));\\n  const { formData } = formHandler;\\n\\n  const submit = async (event: Event) => {\\n    event.preventDefault();\\n    try {\\n      await formHandler.validateForm();\\n      alert('Data sent with success.');\\n      //uploadData(formData())\\n      formHandler.resetForm();\\n    } catch (error) {\\n      console.error(error);\\n    }\\n  };\\n\\n  return (\\n    <form autocomplete=\\\"off\\\" onSubmit={submit}>\\n      <h4>Using yup schema</h4>\\n      <div class=\\\"mb-3\\\">\\n        <FileInput label=\\\"Document\\\" formHandler={formHandler} name=\\\"document\\\" />\\n      </div>\\n      <div class=\\\"mb-3\\\">\\n        <FileInput\\n          label=\\\"Documents\\\"\\n          multiple\\n          formHandler={formHandler}\\n          name=\\\"documents\\\"\\n        />\\n      </div>\\n      <div class=\\\"mb-3\\\">\\n        <button class=\\\"btn btn-primary me-2\\\">Submit</button>\\n      </div>\\n      <p>\\n        <b>Form data:</b>\\n      </p>\\n      <pre class=\\\"mt-3 border bg-light p-3\\\">\\n        <code>{JSON.stringify(formData(), null, 2)}</code>\\n      </pre>\\n    </form>\\n  );\\n};\\n\""],"names":["index"],"mappings":"AAAA,MAAAA,EAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;"}